{"ast":null,"code":"import axios from \"axios\";\nimport { getToken } from \"../auth/AuthenticationService\";\nconst findSales = async (years, month, query, page, size) => {\n  try {\n    axios.defaults.withCredentials = true;\n    const token = getToken();\n    return await axios.get(`https://m3-be-cb08e7133205.herokuapp.com/api/sales?year=${years}&month=${month}&page=${page}&size=${size}&query=${query}`,\n    // `http://localhost:8080/api/sales?year=${years}&month=${month}&page=${page}&size=${size}&query=${query}`,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': token\n      }\n    });\n  } catch (error) {\n    if (error.response.status === 401) {\n      console.log('Token expired');\n      throw new Error('token.invalid_or_expired');\n    }\n    if (error.response.status !== 200) {\n      console.log('Search failed');\n      throw new Error('search.failed');\n    }\n    console.log(\"ERROR ON SERVICE: \" + error);\n    throw error;\n  }\n};\nconst getSalesData = async () => {\n  try {\n    // axios.defaults.withCredentials = true;\n    // const token = getToken();\n    // return await axios.get(\n    //     `https://m3-be-cb08e7133205.herokuapp.com/api/sales-data`,\n    //     // 'http://localhost:8080/api/sales?page=${page}&size=${size}',\n    //     {\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //             'authorization': token,\n    //         },\n    //     }\n    // );\n    let tmpObj = {\n      \"produto\": \"macarrão\",\n      \"dataVencimento\": \"31/10/2024\",\n      \"dataCompra\": \"31/05/2024\"\n    };\n    return tmpObj;\n  } catch (error) {\n    if (error.response.status === 401) {\n      console.log('Token expired');\n      throw new Error('token.invalid_or_expired');\n    }\n    if (error.response.status !== 200) {\n      console.log('Search failed');\n      throw new Error('search.failed');\n    }\n    console.log(\"ERROR ON SERVICE: \" + error);\n    throw error;\n  }\n};\nexport { findSales, getSalesData };","map":{"version":3,"names":["axios","getToken","findSales","years","month","query","page","size","defaults","withCredentials","token","get","headers","error","response","status","console","log","Error","getSalesData","tmpObj"],"sources":["/home/igor/Projects/minha-cozinha-fe/src/service/saleshistory/SalesHistoryService.js"],"sourcesContent":["import axios from \"axios\";\nimport {getToken} from \"../auth/AuthenticationService\";\n\nconst findSales = async (years, month, query, page, size) => {\n    try {\n        axios.defaults.withCredentials = true;\n        const token = getToken();\n        return await axios.get(\n            `https://m3-be-cb08e7133205.herokuapp.com/api/sales?year=${years}&month=${month}&page=${page}&size=${size}&query=${query}`,\n            // `http://localhost:8080/api/sales?year=${years}&month=${month}&page=${page}&size=${size}&query=${query}`,\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'authorization': token,\n                },\n            }\n        );\n    } catch (error) {\n        if (error.response.status === 401) {\n            console.log('Token expired');\n            throw new Error('token.invalid_or_expired');\n        }\n\n        if (error.response.status !== 200) {\n            console.log('Search failed');\n            throw new Error('search.failed');\n        }\n        console.log(\"ERROR ON SERVICE: \" + error)\n        throw error;\n    }\n\n};\n\nconst getSalesData = async () => {\n    try {\n        // axios.defaults.withCredentials = true;\n        // const token = getToken();\n        // return await axios.get(\n        //     `https://m3-be-cb08e7133205.herokuapp.com/api/sales-data`,\n        //     // 'http://localhost:8080/api/sales?page=${page}&size=${size}',\n        //     {\n        //         headers: {\n        //             'Content-Type': 'application/json',\n        //             'authorization': token,\n        //         },\n        //     }\n        // );\n        let tmpObj =  {\n            \"produto\": \"macarrão\",\n            \"dataVencimento\": \"31/10/2024\" ,\n            \"dataCompra\": \"31/05/2024\" \n        }\n\n        return tmpObj\n    } catch (error) {\n        if (error.response.status === 401) {\n            console.log('Token expired');\n            throw new Error('token.invalid_or_expired');\n        }\n\n        if (error.response.status !== 200) {\n            console.log('Search failed');\n            throw new Error('search.failed');\n        }\n        console.log(\"ERROR ON SERVICE: \" + error)\n        throw error;\n    }\n\n};\n\nexport {findSales, getSalesData};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,QAAO,+BAA+B;AAEtD,MAAMC,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACzD,IAAI;IACAP,KAAK,CAACQ,QAAQ,CAACC,eAAe,GAAG,IAAI;IACrC,MAAMC,KAAK,GAAGT,QAAQ,CAAC,CAAC;IACxB,OAAO,MAAMD,KAAK,CAACW,GAAG,CACjB,2DAA0DR,KAAM,UAASC,KAAM,SAAQE,IAAK,SAAQC,IAAK,UAASF,KAAM,EAAC;IAC1H;IACA;MACIO,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAEF;MACrB;IACJ,CACJ,CAAC;EACL,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZ,IAAIA,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5B,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC/C;IAEA,IAAIL,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5B,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;IACpC;IACAF,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGJ,KAAK,CAAC;IACzC,MAAMA,KAAK;EACf;AAEJ,CAAC;AAED,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;EAC7B,IAAI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAIC,MAAM,GAAI;MACV,SAAS,EAAE,UAAU;MACrB,gBAAgB,EAAE,YAAY;MAC9B,YAAY,EAAE;IAClB,CAAC;IAED,OAAOA,MAAM;EACjB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACZ,IAAIA,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5B,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC/C;IAEA,IAAIL,KAAK,CAACC,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5B,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;IACpC;IACAF,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGJ,KAAK,CAAC;IACzC,MAAMA,KAAK;EACf;AAEJ,CAAC;AAED,SAAQX,SAAS,EAAEiB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}