{"ast":null,"code":"import axios from 'axios';\nimport { getToken } from '../auth/AuthenticationService';\nexport const register = async customerData => {\n  try {\n    axios.defaults.withCredentials = true;\n    const token = getToken();\n    const response = await axios.post('https://m3-be-cb08e7133205.herokuapp.com/api/register-customer',\n    // 'http://localhost:8080/api/register-customer',\n    customerData, {\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': token\n      }\n    });\n  } catch (error) {\n    if (error.response.status === 409) {\n      console.log('This phone is already registered');\n      throw new Error('phone.already.registered');\n    }\n    if (error.response.status === 401) {\n      console.log('Token expired');\n      throw new Error('token.invalid_or_expired');\n    }\n    if (error.response.status !== 201) {\n      console.log('Registration failed');\n      throw new Error('registration.failed');\n    }\n    console.log(\"ERROR ON SERVICE: \" + error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","getToken","register","customerData","defaults","withCredentials","token","response","post","headers","error","status","console","log","Error"],"sources":["/home/igor/Projects/minha-cozinha-fe/src/service/registercustomer/RegisterCustomerService.js"],"sourcesContent":["import axios from 'axios';\nimport {getToken} from '../auth/AuthenticationService';\n\nexport const register = async (customerData) => {\n    try {\n        axios.defaults.withCredentials = true;\n        const token = getToken();\n        const response = await axios.post(\n            'https://m3-be-cb08e7133205.herokuapp.com/api/register-customer',\n            // 'http://localhost:8080/api/register-customer',\n            customerData,\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'authorization': token,\n                },\n            }\n        );\n    } catch (error) {\n        if (error.response.status === 409) {\n            console.log('This phone is already registered');\n            throw new Error('phone.already.registered');\n        }\n\n        if (error.response.status === 401) {\n            console.log('Token expired');\n            throw new Error('token.invalid_or_expired');\n        }\n\n        if (error.response.status !== 201) {\n            console.log('Registration failed');\n            throw new Error('registration.failed');\n        }\n        console.log(\"ERROR ON SERVICE: \" + error)\n        throw error;\n    }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,QAAO,+BAA+B;AAEtD,OAAO,MAAMC,QAAQ,GAAG,MAAOC,YAAY,IAAK;EAC5C,IAAI;IACAH,KAAK,CAACI,QAAQ,CAACC,eAAe,GAAG,IAAI;IACrC,MAAMC,KAAK,GAAGL,QAAQ,CAAC,CAAC;IACxB,MAAMM,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAC7B,gEAAgE;IAChE;IACAL,YAAY,EACZ;MACIM,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAAEH;MACrB;IACJ,CACJ,CAAC;EACL,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZ,IAAIA,KAAK,CAACH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MAC/C,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC/C;IAEA,IAAIJ,KAAK,CAACH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5B,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC/C;IAEA,IAAIJ,KAAK,CAACH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClC,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;IAC1C;IACAF,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGH,KAAK,CAAC;IACzC,MAAMA,KAAK;EACf;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}